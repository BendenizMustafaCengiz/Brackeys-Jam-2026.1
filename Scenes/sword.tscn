[gd_scene format=3 uid="uid://wggu72pyv2j5"]

[ext_resource type="Script" uid="uid://bpejgvdsna31j" path="res://Scripts/sword.gd" id="1_goa0h"]
[ext_resource type="Texture2D" uid="uid://bicjuntfh5e7m" path="res://icon.svg" id="2_6wdhb"]

[sub_resource type="Animation" id="Animation_d6wag"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(240, 0)]
}

[sub_resource type="Animation" id="Animation_6wdhb"]
resource_name = "slash1"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.10004495, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 0.34906584, -0.34906584]
}

[sub_resource type="Animation" id="Animation_kb2vl"]
resource_name = "slash2"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.066, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [-0.3490658503988659, -0.5235987755982988, 0.5235988]
}

[sub_resource type="Animation" id="Animation_6j4cb"]
resource_name = "slash3"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.23333333, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.5235988, -0.6981317, -0.34906584]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.13333334, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(240, 0), Vector2(300, 0), Vector2(240, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_d6wag"]
_data = {
&"RESET": SubResource("Animation_d6wag"),
&"slash1": SubResource("Animation_6wdhb"),
&"slash2": SubResource("Animation_kb2vl"),
&"slash3": SubResource("Animation_6j4cb")
}

[node name="Sword" type="Marker2D" unique_id=1328130014]
script = ExtResource("1_goa0h")

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=1609029373]
scale = Vector2(0.5625, 0.3125)
texture = ExtResource("2_6wdhb")
offset = Vector2(240, 0)

[node name="slashArea1" type="Area2D" parent="." unique_id=511266184]
visible = false
position = Vector2(70, 0)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="slashArea1" unique_id=1325699062]
polygon = PackedVector2Array(31, -18, 31, 19, 76, 41, 102, 1, 75, -48)

[node name="slashArea2" type="Area2D" parent="." unique_id=146451732]
position = Vector2(70, 0)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="slashArea2" unique_id=925110507]
polygon = PackedVector2Array(30, -19, 30, 18, 81, 90, 145, 0, 83, -99)

[node name="slashArea3" type="Area2D" parent="." unique_id=1311888148]
visible = false
position = Vector2(70, 0)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="slashArea3" unique_id=502064818]
polygon = PackedVector2Array(30, -19, 30, 18, 72, 105, 127, 1, 67, -110)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." unique_id=376855912]
libraries/ = SubResource("AnimationLibrary_d6wag")

[node name="comboCooldown" type="Timer" parent="." unique_id=1494567377]

[node name="combo_cont_timer" type="Timer" parent="." unique_id=952291015]
wait_time = 0.3

[connection signal="body_entered" from="slashArea1" to="." method="_on_slash_area_1_body_entered"]
[connection signal="body_exited" from="slashArea1" to="." method="_on_slash_area_1_body_exited"]
[connection signal="body_entered" from="slashArea2" to="." method="_on_slash_area_2_body_entered"]
[connection signal="body_exited" from="slashArea2" to="." method="_on_slash_area_2_body_exited"]
[connection signal="body_entered" from="slashArea3" to="." method="_on_slash_area_3_body_entered"]
[connection signal="body_exited" from="slashArea3" to="." method="_on_slash_area_3_body_exited"]
[connection signal="timeout" from="combo_cont_timer" to="." method="_on_combo_cont_timer_timeout"]
